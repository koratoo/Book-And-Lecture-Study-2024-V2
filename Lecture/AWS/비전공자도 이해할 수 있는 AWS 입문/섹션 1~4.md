# 목차

- [섹션 0. 꼭!꼭! 들어봐야 하는 오리엔테이션 🦆](#섹션-0-꼭꼭-들어봐야-하는-오리엔테이션-)

  - [강의 소개](#강의-소개)
  - [[학습 Tip] 강의를 다 듣고나서 스스로 구현할 수 있으려면?](#학습-tip-강의를-다-듣고나서-스스로-구현할-수-있으려면)
  - [[학습 Tip] 개발 블로그 만들긴 만들었는데 어떤 글을 쓰죠?](#학습-tip-개발-블로그-만들긴-만들었는데-어떤-글을-쓰죠)
  - [[학습 Tip] 에러 뜰 때마다 OO하면 남들보다 훨씬 빨리 디버깅 할 수 있습니다](#학습-tip-에러-뜰-때마다-oo하면-남들보다-훨씬-빨리-디버깅-할-수-있습니다)
  - [AWS 회원 가입 및 계정 생성 / 프리 티어(Free Tier)](#aws-회원-가입-및-계정-생성--프리-티어free-tier)
  - [[학습 Tip] 파레토의 법칙](#학습-tip-파레토의-법칙)
  - [[학습 Tip] First Word 법칙](#학습-tip-first-word-법칙)
  - [소통하면서 듣는 인터넷 강의?!](#소통하면서-듣는-인터넷-강의)
  - [1:1 오픈 톡방 링크 / 마음의 소리함](#11-오픈-톡방-링크--마음의-소리함)
  - [수업 자료](#수업-자료)

- [섹션 1. 백엔드 API 서버 배포하기 (EC2)](#섹션-1-백엔드-api-서버-배포하기-ec2)

  - [배포(Deployment)란?](#배포deployment란)
  - [EC2란? / EC2를 왜 배울까? / 현업에서 EC2는 주로 언제 쓸까?](#ec2란--ec2를-왜-배울까--현업에서-ec2는-주로-언제-쓸까)
  - [[실습] 1. 리전(Region) 선택하기](#실습-1-리전region-선택하기)
  - [[실습] 2. EC2 셋팅하기 - 기본 설정](#실습-2-ec2-셋팅하기---기본-설정)
  - [[실습] 3. EC2 셋팅하기 - 보안그룹 설정](#실습-3-ec2-셋팅하기---보안그룹-설정)
  - [[보충 강의] IP와 Port 개념](#보충-강의-ip와-port-개념)
  - [[실습] 4. EC2 셋팅하기 - 스토리지 구성](#실습-4-ec2-셋팅하기---스토리지-구성)
  - [[실습] 5. EC2 접속하기](#실습-5-ec2-접속하기)
  - [[실습] 6. 탄력적 IP 연결하기](#실습-6-탄력적-ip-연결하기)
  - [[실습] 7. Express 서버를 EC2에 배포하기](#실습-7-express-서버를-ec2에-배포하기)
  - [[보충 강의] 7-2. Spring Boot 서버를 EC2에 배포하기](#보충-강의-7-2-spring-boot-서버를-ec2에-배포하기)
  - [비용 나가지 않게 EC2 깔끔하게 종료하기](#비용-나가지-않게-ec2-깔끔하게-종료하기)

- [섹션 2. 도메인 연결하기 (Route53)](#섹션-2-도메인-연결하기-route53)

  - [Route53이란? / DNS란? / 현업에서의 Route53 활용 여부](#route53이란--dns란--현업에서의-route53-활용-여부)
  - [[실습] 0. Route53에 연결할 EC2 생성하기](#실습-0-route53에-연결할-ec2-생성하기)
  - [[실습] 1. Route53에서 도메인 구매](#실습-1-route53에서-도메인-구매)
  - [[실습] 2. Route53의 도메인을 EC2에 연결하기](#실습-2-route53의-도메인을-ec2에-연결하기)
  - [[보충 강의] 무료로 도메인 구매하는 방법](#보충-강의-무료로-도메인-구매하는-방법)

- [섹션 3. HTTPS 연결하기 (ELB)](#섹션-3-https-연결하기-elb)

  - [ELB란? / TLS, SSL과 HTTPS](#elb란--tls-ssl과-https)
  - [ELB를 활용한 아키텍처 구성](#elb를-활용한-아키텍처-구성)
  - [[실습] 1. ELB 셋팅하기 - 기본 구성](#실습-1-elb-셋팅하기---기본-구성)
  - [[실습] 2. ELB 셋팅하기 - 보안그룹](#실습-2-elb-셋팅하기---보안그룹)
  - [[실습] 3. ELB 셋팅하기 - 리스너 및 라우팅 / 헬스 체크](#실습-3-elb-셋팅하기---리스너-및-라우팅--헬스-체크)
  - [[실습] 4. ELB에 도메인 연결하기](#실습-4-elb에-도메인-연결하기)
  - [[실습] 5. HTTPS 적용을 위해 인증서 발급받기](#실습-5-https-적용을-위해-인증서-발급받기)
  - [[실습] 6. ELB에 HTTPS 설정하기](#실습-6-elb에-https-설정하기)
  - [비용 나가지 않게 ELB 깔끔하게 종료하기](#비용-나가지-않게-elb-깔끔하게-종료하기)
  - [[보충 강의] HTTPS 연결 시 ELB vs Nginx, Certbot](#보충-강의-https-연결-시-elb-vs-nginx-certbot)
  - [[보충 강의] Nginx, Certbot을 활용해 HTTPS 연결하기](#보충-강의-nginx-certbot을-활용해-https-연결하기)

- [섹션 4. 데이터베이스 연결하기 (RDS)](#섹션-4-데이터베이스-연결하기-rds)

  - [참고) 24년 2월부터 프리티어라도 RDS 비용 발생](#참고-24년-2월부터-프리티어라도-rds-비용-발생)
  - [RDS란? / RDS를 왜 사용하는걸까? / 현업에서의 RDS](#rds란--rds를-왜-사용하는걸까--현업에서의-rds)
  - [RDS를 활용한 아키텍처 구성](#rds를-활용한-아키텍처-구성)
  - [[실습] 1. RDS 생성하기](#실습-1-rds-생성하기)
  - [[실습] 2. 보안그룹 설정하기](#실습-2-보안그룹-설정하기)
  - [[실습] 3. 파라미터 그룹 추가하기](#실습-3-파라미터-그룹-추가하기)
  - [[실습] 4. RDS에 접속하기](#실습-4-rds에-접속하기)
  - [[실습] 5. Express 서버에 RDS 연결하기](#실습-5-express-서버에-rds-연결하기)
  - [비용 나가지 않게 RDS 깔끔하게 종료하기](#비용-나가지-않게-rds-깔끔하게-종료하기)

  # 섹션 0. 꼭!꼭! 들어봐야 하는 오리엔테이션 🦆

## 강의 소개

## [학습 Tip] 강의를 다 듣고나서 스스로 구현할 수 있으려면?

- 단순 듣기, 단순 코드 따라치기는 기억에 남지 않는다. 이해 된 것 같은 착각에 빠지기도 한다.
- `어렵게 공부해야 한다. 요약하기, 남에게 설명, 도식화`
- 가장 쉬운 방법 `블로그 글 작성`, `기록하는 습관`

## [학습 Tip] 개발 블로그 만들긴 만들었는데 어떤 글을 쓰죠?
- 내가 배운내용을 적어보기
## [학습 Tip] 에러 뜰 때마다 OO하면 남들보다 훨씬 빨리 디버깅 할 수 있습니다

## AWS 회원 가입 및 계정 생성 / 프리 티어(Free Tier)

## [학습 Tip] 파레토의 법칙

## [학습 Tip] First Word 법칙

- 이해 안되는 언어, 어려운 용어를 먼저 정리하면 빨리 이해할 수 있다.
- 낯선 옹어를 정리한다. -> 기록으로 남겨둔다.

## 소통하면서 듣는 인터넷 강의?!

## 1:1 오픈 톡방 링크 / 마음의 소리함

# 섹션 1. 백엔드 API 서버 배포하기 (EC2)

## 배포(Deployment)란?

## EC2란? / EC2를 왜 배울까? / 현업에서 EC2는 주로 언제 쓸까?

## [실습] 1. 리전(Region) 선택하기

- 리전 : 데이터센터(서울, 버지니아...),컴퓨터의 위치
- 리전 선택기준. 사용자의 위치, 컴퓨터의 위치가 멀수록 느려짐. 지리적으로 가까운 위치를 선택.

## [실습] 2. EC2 셋팅하기 - 기본 설정

- 이름 및 태그 : 서비스 이름 (ex) instagram-server
- Application and OS images : 우분투 -> 맥이나 윈도우는 용량/성능을 많이 차지함 -> 성능이 낮아짐 -> 우분투가 유리함
- 버전은 최신버전으로 선택
- 인스턴스 유형 : 인스턴스란? EC2에서 빌리는 컴퓨터 1대
- 용어를 잘 정리해놓기!
- 인스턴스 유형 : 컴퓨터 사양을 의미한다.
- 키페어 : 비밀번호, 열쇠

## [실습] 3. EC2 셋팅하기 - 보안그룹 설정

- 네트워크 설정
- 보안그룹이란? AWS클라우드에서의 네트워크 보안을 의미한다.
  - 집 바깥의 울타리나 대문이라고 비유할 수 있다.
  - 보안요원이 먼저 검사를 한다.
- 유형 : HTTP/ TCP : 80 포트 -> 백엔드 서버를 80번 포트에 띄울예정이기 때문

## [보충 강의] IP와 Port 개념

- IP : 특정 컴퓨터 주소
- Port : 한 컴퓨터 내에서 실행되고 있는 특정 프로그램의 주소

## [실습] 4. EC2 셋팅하기 - 스토리지 구성

- EBS : EC2에서 쓰는 하드디스크
- 프리티어 30기가까지 무료 제공
- 볼륨유형 : gp3
- ▶ 인스턴스 시작

## [실습] 5. EC2 접속하기

- 세부정보 다 이해할 필요 없음.
- 퍼블릭 IPv4 주소 : EC2의 IP주소
- 인스턴스 상태 : 실행중인지 중지중인지
- 인스턴스 : EC2에서 빌려온 컴퓨터 1대
- `인스턴스 종료` : 주의! 종료는 컴퓨터 삭제를 의미한다.
- 아웃바운드 규칙 0.0.0.0/0 -> 모든 IP를 대상으로 한다.
- 모니터링 : 내 컴퓨터의 성능 지표
- 연결방식 > 사용자 이름 : ubuntu

## [실습] 6. 탄력적 IP 연결하기

- 탄력적(Elastic)
- 왜 불편하게 임시 IP를 발급했을까?

## [실습] 7. Express 서버를 EC2에 배포하기

- .env : .gitignore에 추가
- `sudo npm -i -g pm2`

## [보충 강의] 7-2. Spring Boot 서버를 EC2에 배포하기

- jdk 설치
- 민감한 파일 : 직접 저장 `vi application.yml`

## 비용 나가지 않게 EC2 깔끔하게 종료하기

- 인스턴스 종료
- 탄력적 IP삭제

# 섹션 2. 도메인 연결하기 (Route53)

## Route53이란? / DNS란? / 현업에서의 Route53 활용 여부

- 도메인을 관리해주는 서비스
- DNS서비스
  - DNS란? Domain Name System
  - IP는 특정 컴퓨터의 주소의 역할을 한다.
  - 숫자를 한글로 변환할 수 없을까에 대한 고민
  - 가비아, 후이즈에서 구입가능

## [실습] 0. Route53에 연결할 EC2 생성하기

- EC2 생성과정 복습
  - t2.micro 사용, 키페어는 열쇠
  - GP3 최근버전
- 탄력적 IP를 사용하지 않으면 인스턴스를 실행할때마다 IP가 바뀐다.

## [실습] 1. Route53에서 도메인 구매

- AWS > Route53 > 대시보드 > 등록된 도메인 > 도메인 등록 (`이메일`은 제대로 잘 적어주어야 한다.)
- 호스팅영역에서 구입한 도매인 확인

## [실습] 2. Route53의 도메인을 EC2에 연결하기

- 레코드 생성 > 레코드 유형 선택 (A, CNAME 중 택 1)
- 값 : 인스턴스의 IP주소(Public)
- 레코드 이름 : 앞에 붙는 주소

## [보충 강의] 무료로 도메인 구매하는 방법

# 섹션 3. HTTPS 연결하기 (ELB)

## ELB란? / TLS, SSL과 HTTPS

- ELB : Elastic Load Balancer 트래픽 부하를 적절하게 분배해주는 장치
- SSL/TLS를 제공한다. HTTP가 아닌 HTTPS로 통신한다.
- HTTPS인증을 받은 도메인 주소로 통신한다.

## ELB를 활용한 아키텍처 구성

- 사용자가 EC2 직접 접근 -> 사용자가 ELB에서 EC2로 요청을 보내는 구성

## [실습] 1. ELB 셋팅하기 - 기본 구성

- 로드밸런서 생성 > 3가지 유형 중 Application Load Balancer
- 인터넷 경계 체크
- VPC 전부 체크

## [실습] 2. ELB 셋팅하기 - 보안그룹

- EC2보안그룹과 별개임

## [실습] 3. ELB 셋팅하기 - 리스너 및 라우팅 / 헬스 체크

- ELB로 들어온 요청을 어떤 인스턴스(대상그룹)로 전달
- 헬스체크 : 고장난 서버한테 요청을 하면 비효율적이기 때문에 EC2로 주기적으로 요청을 보낸다.(30초 간격)
- 헬스체크 API만들기

## [실습] 4. ELB에 도메인 연결하기
- 엔드포인트 : Application ... Load Balancer에 대한 별칭
- 아시아 태평양

## [실습] 5. HTTPS 적용을 위해 인증서 발급받기
- 인증서 : Certificate Manager > 인증서 요청 > 도메인명  

## [실습] 6. ELB에 HTTPS 설정하기
- 리스너 : HTTPS, 443번 포트
- 기존 리스너 규칙 삭제 후 리다이랙션 설정하여 HTTP로 들어와도 HTTPS로 리다이랙션. 

## 비용 나가지 않게 ELB 깔끔하게 종료하기
- 탄력적 IP삭제

## [보충 강의] HTTPS 연결 시 ELB vs Nginx, Certbot
- 현업에선 ELB를 활용하는 경우가 더 많다.
- Nginx, Certbot 사용 이유는 비용이 부담스러운 경우 사용

## [보충 강의] Nginx, Certbot을 활용해 HTTPS 연결하기
- EC2에 도메인을 연결해야 Certbot이 정상적으로 연결된다.
- 인스턴스 시작 > 유형 프리티어 > 키페어 생성 >보안그룹 편집 누른 후 HTTP선택, 위치 무관 // HTTPS에 대해서도 추가
- 탄력적 IP주소 할당 > 연결
- 우분투 환경에서 Node.js설치 > 버전확인 > Express 클론 > 라이브러리 설치 > .env 생성
- app.js 의 포트 3000으로 변경
- pm2 설치 및 실행
- Route53 에서 도메인 적용, 호스팅 영역 > 레코드에서 기존 것 삭제 후 새로 생성

# 섹션 4. 데이터베이스 연결하기 (RDS)

## 참고) 24년 2월부터 프리티어라도 RDS 비용 발생

## RDS란? / RDS를 왜 사용하는걸까? / 현업에서의 RDS
- RDS 관계형 데이터베이스 서비스
- 외부인터넷에서 접근할 수 있게 같이 배포해주어야 한다.
- 여러 편리한 기능이 있음
- EC2가 죽으면 MySQL도 죽기 때문에 직접설치보다 RDS를 쓴다.
  
## RDS를 활용한 아키텍처 구성

## [실습] 1. RDS 생성하기
- 프리티어
- 마스터 사용자 이름 : 데이터 베이스 접근시 보안장치

## [실습] 2. 보안그룹 설정하기

## [실습] 3. 파라미터 그룹 추가하기
- 파라미터 그룹 생성 > mysql8.0 > 그룹이름, 설명필수
- character : utf8mb4 로 설정해주기
- collation ~ : utf8mb4_unicode_ci사용
- timezone 설정 : 우리나라 시간 Asia/Seoul
- db파라미터 적용 , RDS를 재부팅해야 적용된다. 설정값 5분정도 걸려서 수정 후 가능
## [실습] 4. RDS에 접속하기
- DBeaver 엔드포인트와 포트를 참고해서 사용한다.
- Host : 엔드포인트 주소
- RDS만들었을 때 만들었던 마스터 암호를 사용한다.
- 엔드포인트 : 특정 리소스에 접근할 수 있도록 해주는 URL을 의미한다.

## [실습] 5. Express 서버에 RDS 연결하기

## 비용 나가지 않게 RDS 깔끔하게 종료하기
